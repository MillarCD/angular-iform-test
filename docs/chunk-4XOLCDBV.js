import{a as J,b as Z,c as z,d as g,e as Y,f as $,g as K,h as Q,i as W,j as X,k as ee,l as te,m as oe}from"./chunk-WYHZJ2MN.js";import{B as f,E as v,G as u,H as n,I as o,J as l,K as w,L as a,N as x,S as I,U as H,X as O,Z as U,c as j,f as q,g as G,k as B,n as c,p as V,t as C,u as s,x as p}from"./chunk-47X2WVCZ.js";var ne=J.backendUrl,y=class e{http=c(H);createForm(i){return this.http.post(`${ne}/forms`,i).pipe(G(r=>(console.log("Response: ",r),r.status==="success")))}downloadData(){return this.http.get(`${ne}/forms`).pipe(G(i=>(console.log("Response: ",i),i)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var S=e=>({"border-red-500":e});function ie(e,i){e&1&&(n(0,"div",10),a(1," First name is required "),o())}function re(e,i){e&1&&(n(0,"div",10),a(1," Last name is required "),o())}function ae(e,i){e&1&&(n(0,"div",10),a(1," Email is required "),o())}function se(e,i){e&1&&(n(0,"div",10),a(1," Please enter a valid email address "),o())}function me(e,i){e&1&&(n(0,"div",10),a(1," Age is required "),o())}function le(e,i){e&1&&(n(0,"div",10),a(1," Age must be a positive number "),o())}function ue(e,i){e&1&&(n(0,"div",21),V(),n(1,"svg",24)(2,"g",25)(3,"path",26),l(4,"animate",27)(5,"animateTransform",28),o(),n(6,"path",29),l(7,"animate",30),o()()()())}function de(e,i){e&1&&(n(0,"button",22),a(1," Submit "),o())}function pe(e,i){e&1&&(n(0,"div",23),a(1," Form submitted successfully! "),o())}var F=class e{fb=c(te);submitted=C(!1);showSuccessMessage=C(!1);isLoading=C(!1);formService=c(y);formGroup=this.fb.group({firstName:["",g.required],lastName:["",g.required],email:["",[g.required,g.email]],age:[0,[g.required,g.min(0)]],submitToday:[!0]});onSubmit(){if(this.submitted.set(!0),this.formGroup.invalid)return;if(!window.grecaptcha){console.error("reCAPTCHA no est\xE1 cargado.");return}let{email:i="",firstName:r="",lastName:t="",age:d=20,submitToday:m=!1}=this.formGroup.value;window.grecaptcha.ready(()=>j(this,null,function*(){this.isLoading.set(!0);let b=yield window.grecaptcha.execute("6Lcm2BorAAAAADej42ZZ9wcnmi8Bmeht3E0YoUyY",{action:"submit"}),h=yield this.sendForm({email:i,firstName:r,lastName:t,age:d,submitToday:m,token:b});this.isLoading.set(!1),h&&(this.showSuccessMessage.set(!0),setTimeout(()=>this.showSuccessMessage.set(!1),3e3))}))}sendForm(i){return j(this,null,function*(){let r=yield q(this.formService.createForm(i)).catch(()=>!1);return console.log("response: ",r),r})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-form-page"]],decls:39,vars:21,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"space-y-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName","type","text","placeholder","Enter your first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-xs","mt-1"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName","type","text","placeholder","Enter your last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","your.email@example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Enter your age","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"flex","items-center","space-x-2","pt-2"],["id","submitToday","formControlName","submitToday","type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"],["for","submitToday",1,"text-sm","text-gray-700","cursor-pointer"],[1,"mt-6"],[1,"flex","h-full","items-center","justify-center"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-green-100","text-green-700","rounded-md"],["xmlns","http://www.w3.org/2000/svg","width","30","height","30","viewBox","0 0 30 30"],["fill","none","stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2"],["stroke-dasharray","16","stroke-dashoffset","16","d","M12 3c4.97 0 9 4.03 9 9"],["fill","freeze","attributeName","stroke-dashoffset","dur","0.3s","values","16;0"],["attributeName","transform","dur","1.5s","repeatCount","indefinite","type","rotate","values","0 12 12;360 12 12"],["stroke-dasharray","64","stroke-dashoffset","64","stroke-opacity","0.3","d","M12 3c4.97 0 9 4.03 9 9c0 4.97 -4.03 9 -9 9c-4.97 0 -9 -4.03 -9 -9c0 -4.97 4.03 -9 9 -9Z"],["fill","freeze","attributeName","stroke-dashoffset","dur","1.2s","values","64;0"]],template:function(r,t){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Personal Information"),o(),n(5,"p",4),a(6,"Please fill out all the required fields below."),o()(),n(7,"form",5),w("ngSubmit",function(){return t.onSubmit()}),n(8,"div",6)(9,"div",7)(10,"label",8),a(11,"First Name"),o(),l(12,"input",9),f(13,ie,2,0,"div",10),o(),n(14,"div",7)(15,"label",11),a(16,"Last Name"),o(),l(17,"input",12),f(18,re,2,0,"div",10),o(),n(19,"div",7)(20,"label",13),a(21,"Email Address"),o(),l(22,"input",14),f(23,ae,2,0,"div",10)(24,se,2,0,"div",10),o(),n(25,"div",7)(26,"label",15),a(27,"Age"),o(),l(28,"input",16),f(29,me,2,0,"div",10)(30,le,2,0,"div",10),o(),n(31,"div",17),l(32,"input",18),n(33,"label",19),a(34," Submit today? "),o()()(),n(35,"div",20),f(36,ue,8,0,"div",21)(37,de,2,0,"button",22),o(),f(38,pe,2,0,"div",23),o()()()),r&2){let d,m,b,h,R,D,k,M,T,A;s(7),v("formGroup",t.formGroup),s(5),v("ngClass",x(13,S,t.submitted()&&((d=t.formGroup.get("firstName"))==null?null:d.errors))),s(),u(t.submitted()&&((m=t.formGroup.get("firstName"))!=null&&m.errors)?13:-1),s(4),v("ngClass",x(15,S,t.submitted()&&((b=t.formGroup.get("lastName"))==null?null:b.errors))),s(),u(t.submitted()&&((h=t.formGroup.get("lastName"))!=null&&h.errors)?18:-1),s(4),v("ngClass",x(17,S,t.submitted()&&((R=t.formGroup.get("email"))==null?null:R.errors))),s(),u(t.submitted()&&(!((D=t.formGroup.get("email"))==null||D.errors==null)&&D.errors.required)?23:-1),s(),u(t.submitted()&&(!((k=t.formGroup.get("email"))==null||k.errors==null)&&k.errors.email)?24:-1),s(4),v("ngClass",x(19,S,t.submitted()&&((M=t.formGroup.get("age"))==null?null:M.errors))),s(),u(t.submitted()&&(!((T=t.formGroup.get("age"))==null||T.errors==null)&&T.errors.required)?29:-1),s(),u(t.submitted()&&(!((A=t.formGroup.get("age"))==null||A.errors==null)&&A.errors.min)?30:-1),s(6),u(t.isLoading()?36:37),s(2),u(t.showSuccessMessage()?38:-1)}},dependencies:[I,oe,K,z,Q,Z,Y,$,ee,W,X],encapsulation:2,changeDetection:0})};var N=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-base-layout"]],decls:1,vars:0,template:function(r,t){r&1&&l(0,"router-outlet")},dependencies:[O],encapsulation:2,changeDetection:0})};var E=class e{formService=c(y);downloadCSV(){this.formService.downloadData().subscribe(i=>{console.log("response: ",i);let t=[["Name","Email","Age"],["John Doe","john@example.com","30"],["Jane Smith","jane@example.com","25"],["Bob Johnson","bob@example.com","45"]].map(h=>h.join(",")).join(`
`),d=new Blob([t],{type:"text/csv;charset=utf-8;"}),m=document.createElement("a"),b=URL.createObjectURL(d);m.setAttribute("href",b),m.setAttribute("download","sample_data.csv"),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-administration-page"]],decls:10,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6","flex","justify-center"],[1,"py-3","px-6","border","border-transparent","rounded-md","shadow-sm","text-base","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"]],template:function(r,t){r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Download Data"),o(),n(5,"p",4),a(6,"Click the button below to download your data."),o()(),n(7,"div",5)(8,"button",6),w("click",function(){return t.downloadCSV()}),a(9," Download .csv "),o()()()())},encapsulation:2,changeDetection:0})};var P=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-home-page"]],decls:7,vars:0,consts:[[1,"w-screen","bg-gray-300","h-screen","flex","flex-col","justify-center","items-center","p-5","gap-5"],[1,"text-4xl","font-bold"],["routerLink","/form",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],["routerLink","/auth/login",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"]],template:function(r,t){r&1&&(n(0,"section",0)(1,"h1",1),a(2,"Bienvenid@"),o(),n(3,"button",2),a(4," Ir al formulario "),o(),n(5,"button",3),a(6," Log in "),o()())},dependencies:[U],encapsulation:2,changeDetection:0})};var ce=[{path:"",component:N,children:[{path:"",title:"Home",component:P},{path:"form",component:F},{path:"admin",component:E},{path:"**",redirectTo:""}]}],Ue=ce;export{Ue as default};
