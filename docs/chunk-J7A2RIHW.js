import{a as I,b as O,c as U,d as c,e as J,f as H,g as Y,h as Z,i as $,j as z,k as K,l as Q,m as W}from"./chunk-5YQL5I6I.js";import{A as b,D as v,F as u,G as i,H as o,I as d,J as x,K as a,M as C,R as L,T as B,W as V,c as A,f as q,g as T,k as M,n as p,s as G,t as m,w as g}from"./chunk-XE44CHX7.js";var X=I.backendUrl,y=class t{http=p(B);createForm(n){return this.http.post(`${X}/forms`,n).pipe(T(r=>(console.log("Response: ",r),r.status==="success")))}downloadData(){return this.http.get(`${X}/forms`).pipe(T(n=>(console.log("Response: ",n),n)))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=M({token:t,factory:t.\u0275fac,providedIn:"root"})};var w=t=>({"border-red-500":t});function te(t,n){t&1&&(i(0,"div",10),a(1," First name is required "),o())}function oe(t,n){t&1&&(i(0,"div",10),a(1," Last name is required "),o())}function ne(t,n){t&1&&(i(0,"div",10),a(1," Email is required "),o())}function re(t,n){t&1&&(i(0,"div",10),a(1," Please enter a valid email address "),o())}function ie(t,n){t&1&&(i(0,"div",10),a(1," Age is required "),o())}function ae(t,n){t&1&&(i(0,"div",10),a(1," Age must be a positive number "),o())}function me(t,n){t&1&&(i(0,"div",22),a(1," Form submitted successfully! "),o())}var _=class t{fb=p(Q);submitted=G(!1);showSuccessMessage=G(!1);formService=p(y);formGroup=this.fb.group({firstName:["",c.required],lastName:["",c.required],email:["",[c.required,c.email]],age:[0,[c.required,c.min(0)]],submitToday:[!0]});onSubmit(){if(this.submitted.set(!0),this.formGroup.invalid)return;if(!window.grecaptcha){console.error("reCAPTCHA no est\xE1 cargado.");return}let{email:n="",firstName:r="",lastName:e="",age:l=20,submitToday:s=!1}=this.formGroup.value;window.grecaptcha.ready(()=>A(this,null,function*(){let f=yield window.grecaptcha.execute("6Lcm2BorAAAAADej42ZZ9wcnmi8Bmeht3E0YoUyY",{action:"submit"});(yield this.sendForm({email:n,firstName:r,lastName:e,age:l,submitToday:s,token:f}))&&(this.showSuccessMessage.set(!0),setTimeout(()=>this.showSuccessMessage.set(!1),3e3))}))}sendForm(n){return A(this,null,function*(){let r=yield q(this.formService.createForm(n));return console.log("response: ",r),r})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=g({type:t,selectors:[["app-form-page"]],decls:39,vars:20,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"space-y-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName","type","text","placeholder","Enter your first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-xs","mt-1"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName","type","text","placeholder","Enter your last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","your.email@example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Enter your age","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"flex","items-center","space-x-2","pt-2"],["id","submitToday","formControlName","submitToday","type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"],["for","submitToday",1,"text-sm","text-gray-700","cursor-pointer"],[1,"mt-6"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-green-100","text-green-700","rounded-md"]],template:function(r,e){if(r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Personal Information"),o(),i(5,"p",4),a(6,"Please fill out all the required fields below."),o()(),i(7,"form",5),x("ngSubmit",function(){return e.onSubmit()}),i(8,"div",6)(9,"div",7)(10,"label",8),a(11,"First Name"),o(),d(12,"input",9),b(13,te,2,0,"div",10),o(),i(14,"div",7)(15,"label",11),a(16,"Last Name"),o(),d(17,"input",12),b(18,oe,2,0,"div",10),o(),i(19,"div",7)(20,"label",13),a(21,"Email Address"),o(),d(22,"input",14),b(23,ne,2,0,"div",10)(24,re,2,0,"div",10),o(),i(25,"div",7)(26,"label",15),a(27,"Age"),o(),d(28,"input",16),b(29,ie,2,0,"div",10)(30,ae,2,0,"div",10),o(),i(31,"div",17),d(32,"input",18),i(33,"label",19),a(34," Submit today? "),o()()(),i(35,"div",20)(36,"button",21),a(37," Submit "),o()(),b(38,me,2,0,"div",22),o()()()),r&2){let l,s,f,h,R,N,E,j,D,P;m(7),v("formGroup",e.formGroup),m(5),v("ngClass",C(12,w,e.submitted()&&((l=e.formGroup.get("firstName"))==null?null:l.errors))),m(),u(e.submitted()&&((s=e.formGroup.get("firstName"))!=null&&s.errors)?13:-1),m(4),v("ngClass",C(14,w,e.submitted()&&((f=e.formGroup.get("lastName"))==null?null:f.errors))),m(),u(e.submitted()&&((h=e.formGroup.get("lastName"))!=null&&h.errors)?18:-1),m(4),v("ngClass",C(16,w,e.submitted()&&((R=e.formGroup.get("email"))==null?null:R.errors))),m(),u(e.submitted()&&(!((N=e.formGroup.get("email"))==null||N.errors==null)&&N.errors.required)?23:-1),m(),u(e.submitted()&&(!((E=e.formGroup.get("email"))==null||E.errors==null)&&E.errors.email)?24:-1),m(4),v("ngClass",C(18,w,e.submitted()&&((j=e.formGroup.get("age"))==null?null:j.errors))),m(),u(e.submitted()&&(!((D=e.formGroup.get("age"))==null||D.errors==null)&&D.errors.required)?29:-1),m(),u(e.submitted()&&(!((P=e.formGroup.get("age"))==null||P.errors==null)&&P.errors.min)?30:-1),m(8),u(e.showSuccessMessage()?38:-1)}},dependencies:[L,W,Y,U,Z,O,J,H,K,$,z],encapsulation:2,changeDetection:0})};var S=class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=g({type:t,selectors:[["app-base-layout"]],decls:1,vars:0,template:function(r,e){r&1&&d(0,"router-outlet")},dependencies:[V],encapsulation:2,changeDetection:0})};var F=class t{formService=p(y);downloadCSV(){this.formService.downloadData().subscribe(n=>{console.log("response: ",n);let e=[["Name","Email","Age"],["John Doe","john@example.com","30"],["Jane Smith","jane@example.com","25"],["Bob Johnson","bob@example.com","45"]].map(h=>h.join(",")).join(`
`),l=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),f=URL.createObjectURL(l);s.setAttribute("href",f),s.setAttribute("download","sample_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=g({type:t,selectors:[["app-administration-page"]],decls:10,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6","flex","justify-center"],[1,"py-3","px-6","border","border-transparent","rounded-md","shadow-sm","text-base","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"]],template:function(r,e){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Download Data"),o(),i(5,"p",4),a(6,"Click the button below to download your data."),o()(),i(7,"div",5)(8,"button",6),x("click",function(){return e.downloadCSV()}),a(9," Download .csv "),o()()()())},encapsulation:2,changeDetection:0})};var se=[{path:"",component:S,children:[{path:"form",component:_},{path:"admin",component:F},{path:"**",redirectTo:"form"}]}],qe=se;export{qe as default};
