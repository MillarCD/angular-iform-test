import{a as U,b as J,c as Y,d as f,e as Z,f as $,g as z,h as K,i as Q,j as W,k as X,l as ee,m as te}from"./chunk-KTSB5JQF.js";import{A as b,D as v,F as d,G as i,H as o,I as p,J as C,K as a,M as x,R as I,T as V,W as H,Y as O,c as k,f as M,g as j,k as B,n as c,s as G,t as m,w as u}from"./chunk-KSO6V4MC.js";var oe=U.backendUrl,y=class e{http=c(V);createForm(r){return this.http.post(`${oe}/forms`,r).pipe(j(n=>(console.log("Response: ",n),n.status==="success")))}downloadData(){return this.http.get(`${oe}/forms`).pipe(j(r=>(console.log("Response: ",r),r)))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var _=e=>({"border-red-500":e});function ne(e,r){e&1&&(i(0,"div",10),a(1," First name is required "),o())}function re(e,r){e&1&&(i(0,"div",10),a(1," Last name is required "),o())}function ie(e,r){e&1&&(i(0,"div",10),a(1," Email is required "),o())}function ae(e,r){e&1&&(i(0,"div",10),a(1," Please enter a valid email address "),o())}function me(e,r){e&1&&(i(0,"div",10),a(1," Age is required "),o())}function se(e,r){e&1&&(i(0,"div",10),a(1," Age must be a positive number "),o())}function le(e,r){e&1&&(i(0,"div",22),a(1," Form submitted successfully! "),o())}var S=class e{fb=c(ee);submitted=G(!1);showSuccessMessage=G(!1);formService=c(y);formGroup=this.fb.group({firstName:["",f.required],lastName:["",f.required],email:["",[f.required,f.email]],age:[0,[f.required,f.min(0)]],submitToday:[!0]});onSubmit(){if(this.submitted.set(!0),this.formGroup.invalid)return;if(!window.grecaptcha){console.error("reCAPTCHA no est\xE1 cargado.");return}let{email:r="",firstName:n="",lastName:t="",age:l=20,submitToday:s=!1}=this.formGroup.value;window.grecaptcha.ready(()=>k(this,null,function*(){let g=yield window.grecaptcha.execute("6Lcm2BorAAAAADej42ZZ9wcnmi8Bmeht3E0YoUyY",{action:"submit"});(yield this.sendForm({email:r,firstName:n,lastName:t,age:l,submitToday:s,token:g}))&&(this.showSuccessMessage.set(!0),setTimeout(()=>this.showSuccessMessage.set(!1),3e3))}))}sendForm(r){return k(this,null,function*(){let n=yield M(this.formService.createForm(r));return console.log("response: ",n),n})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["app-form-page"]],decls:39,vars:20,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"space-y-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName","type","text","placeholder","Enter your first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-xs","mt-1"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName","type","text","placeholder","Enter your last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","your.email@example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Enter your age","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"flex","items-center","space-x-2","pt-2"],["id","submitToday","formControlName","submitToday","type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"],["for","submitToday",1,"text-sm","text-gray-700","cursor-pointer"],[1,"mt-6"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-green-100","text-green-700","rounded-md"]],template:function(n,t){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Personal Information"),o(),i(5,"p",4),a(6,"Please fill out all the required fields below."),o()(),i(7,"form",5),C("ngSubmit",function(){return t.onSubmit()}),i(8,"div",6)(9,"div",7)(10,"label",8),a(11,"First Name"),o(),p(12,"input",9),b(13,ne,2,0,"div",10),o(),i(14,"div",7)(15,"label",11),a(16,"Last Name"),o(),p(17,"input",12),b(18,re,2,0,"div",10),o(),i(19,"div",7)(20,"label",13),a(21,"Email Address"),o(),p(22,"input",14),b(23,ie,2,0,"div",10)(24,ae,2,0,"div",10),o(),i(25,"div",7)(26,"label",15),a(27,"Age"),o(),p(28,"input",16),b(29,me,2,0,"div",10)(30,se,2,0,"div",10),o(),i(31,"div",17),p(32,"input",18),i(33,"label",19),a(34," Submit today? "),o()()(),i(35,"div",20)(36,"button",21),a(37," Submit "),o()(),b(38,le,2,0,"div",22),o()()()),n&2){let l,s,g,h,q,D,P,L,A,T;m(7),v("formGroup",t.formGroup),m(5),v("ngClass",x(12,_,t.submitted()&&((l=t.formGroup.get("firstName"))==null?null:l.errors))),m(),d(t.submitted()&&((s=t.formGroup.get("firstName"))!=null&&s.errors)?13:-1),m(4),v("ngClass",x(14,_,t.submitted()&&((g=t.formGroup.get("lastName"))==null?null:g.errors))),m(),d(t.submitted()&&((h=t.formGroup.get("lastName"))!=null&&h.errors)?18:-1),m(4),v("ngClass",x(16,_,t.submitted()&&((q=t.formGroup.get("email"))==null?null:q.errors))),m(),d(t.submitted()&&(!((D=t.formGroup.get("email"))==null||D.errors==null)&&D.errors.required)?23:-1),m(),d(t.submitted()&&(!((P=t.formGroup.get("email"))==null||P.errors==null)&&P.errors.email)?24:-1),m(4),v("ngClass",x(18,_,t.submitted()&&((L=t.formGroup.get("age"))==null?null:L.errors))),m(),d(t.submitted()&&(!((A=t.formGroup.get("age"))==null||A.errors==null)&&A.errors.required)?29:-1),m(),d(t.submitted()&&(!((T=t.formGroup.get("age"))==null||T.errors==null)&&T.errors.min)?30:-1),m(8),d(t.showSuccessMessage()?38:-1)}},dependencies:[I,te,z,Y,K,J,Z,$,X,Q,W],encapsulation:2,changeDetection:0})};var F=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["app-base-layout"]],decls:1,vars:0,template:function(n,t){n&1&&p(0,"router-outlet")},dependencies:[H],encapsulation:2,changeDetection:0})};var N=class e{formService=c(y);downloadCSV(){this.formService.downloadData().subscribe(r=>{console.log("response: ",r);let t=[["Name","Email","Age"],["John Doe","john@example.com","30"],["Jane Smith","jane@example.com","25"],["Bob Johnson","bob@example.com","45"]].map(h=>h.join(",")).join(`
`),l=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),g=URL.createObjectURL(l);s.setAttribute("href",g),s.setAttribute("download","sample_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["app-administration-page"]],decls:10,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6","flex","justify-center"],[1,"py-3","px-6","border","border-transparent","rounded-md","shadow-sm","text-base","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Download Data"),o(),i(5,"p",4),a(6,"Click the button below to download your data."),o()(),i(7,"div",5)(8,"button",6),C("click",function(){return t.downloadCSV()}),a(9," Download .csv "),o()()()())},encapsulation:2,changeDetection:0})};var E=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=u({type:e,selectors:[["app-home-page"]],decls:7,vars:0,consts:[[1,"w-screen","bg-gray-300","h-screen","flex","flex-col","justify-center","items-center","p-5","gap-5"],[1,"text-4xl","font-bold"],["routerLink","/form",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],["routerLink","/auth/login",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"]],template:function(n,t){n&1&&(i(0,"section",0)(1,"h1",1),a(2,"Bienvenid@"),o(),i(3,"button",2),a(4," Ir al formulario "),o(),i(5,"button",3),a(6," Log in "),o()())},dependencies:[O],encapsulation:2,changeDetection:0})};var ue=[{path:"",component:F,children:[{path:"",title:"Home",component:E},{path:"form",component:S},{path:"admin",component:N},{path:"**",redirectTo:""}]}],Ve=ue;export{Ve as default};
