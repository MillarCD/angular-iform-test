import{a as U,b as J,c as Y,d as g,e as Z,f as $,g as z,h as K,i as Q,j as W,k as X,l as ee,m as te}from"./chunk-KTSB5JQF.js";import{A as f,D as h,F as l,G as i,H as o,I as u,J as w,K as a,M as x,R as I,T as V,W as H,Y as O,c as k,f as M,g as G,k as B,n as c,s as C,t as m,w as p}from"./chunk-KSO6V4MC.js";var oe=U.backendUrl,y=class e{http=c(V);createForm(n){return this.http.post(`${oe}/forms`,n).pipe(G(r=>(console.log("Response: ",r),r.status==="success")))}downloadData(){return this.http.get(`${oe}/forms`).pipe(G(n=>(console.log("Response: ",n),n)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=B({token:e,factory:e.\u0275fac,providedIn:"root"})};var S=e=>({"border-red-500":e});function ne(e,n){e&1&&(i(0,"div",10),a(1," First name is required "),o())}function ie(e,n){e&1&&(i(0,"div",10),a(1," Last name is required "),o())}function re(e,n){e&1&&(i(0,"div",10),a(1," Email is required "),o())}function ae(e,n){e&1&&(i(0,"div",10),a(1," Please enter a valid email address "),o())}function me(e,n){e&1&&(i(0,"div",10),a(1," Age is required "),o())}function se(e,n){e&1&&(i(0,"div",10),a(1," Age must be a positive number "),o())}function le(e,n){e&1&&(i(0,"div",21),u(1,"img",24),o())}function ue(e,n){e&1&&(i(0,"button",22),a(1," Submit "),o())}function de(e,n){e&1&&(i(0,"div",23),a(1," Form submitted successfully! "),o())}var F=class e{fb=c(ee);submitted=C(!1);showSuccessMessage=C(!1);isLoading=C(!1);formService=c(y);formGroup=this.fb.group({firstName:["",g.required],lastName:["",g.required],email:["",[g.required,g.email]],age:[0,[g.required,g.min(0)]],submitToday:[!0]});onSubmit(){if(this.submitted.set(!0),this.formGroup.invalid)return;if(!window.grecaptcha){console.error("reCAPTCHA no est\xE1 cargado.");return}let{email:n="",firstName:r="",lastName:t="",age:d=20,submitToday:s=!1}=this.formGroup.value;window.grecaptcha.ready(()=>k(this,null,function*(){this.isLoading.set(!0);let b=yield window.grecaptcha.execute("6Lcm2BorAAAAADej42ZZ9wcnmi8Bmeht3E0YoUyY",{action:"submit"}),v=yield this.sendForm({email:n,firstName:r,lastName:t,age:d,submitToday:s,token:b});this.isLoading.set(!1),v&&(this.showSuccessMessage.set(!0),setTimeout(()=>this.showSuccessMessage.set(!1),3e3))}))}sendForm(n){return k(this,null,function*(){let r=yield M(this.formService.createForm(n)).catch(()=>!1);return console.log("response: ",r),r})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-form-page"]],decls:39,vars:21,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"space-y-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName","type","text","placeholder","Enter your first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-xs","mt-1"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName","type","text","placeholder","Enter your last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","your.email@example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Enter your age","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"flex","items-center","space-x-2","pt-2"],["id","submitToday","formControlName","submitToday","type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"],["for","submitToday",1,"text-sm","text-gray-700","cursor-pointer"],[1,"mt-6"],[1,"flex","h-full","items-center","justify-center"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-green-100","text-green-700","rounded-md"],["src","assets/loading.svg","alt","Icono","width","30","height","30"]],template:function(r,t){if(r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Personal Information"),o(),i(5,"p",4),a(6,"Please fill out all the required fields below."),o()(),i(7,"form",5),w("ngSubmit",function(){return t.onSubmit()}),i(8,"div",6)(9,"div",7)(10,"label",8),a(11,"First Name"),o(),u(12,"input",9),f(13,ne,2,0,"div",10),o(),i(14,"div",7)(15,"label",11),a(16,"Last Name"),o(),u(17,"input",12),f(18,ie,2,0,"div",10),o(),i(19,"div",7)(20,"label",13),a(21,"Email Address"),o(),u(22,"input",14),f(23,re,2,0,"div",10)(24,ae,2,0,"div",10),o(),i(25,"div",7)(26,"label",15),a(27,"Age"),o(),u(28,"input",16),f(29,me,2,0,"div",10)(30,se,2,0,"div",10),o(),i(31,"div",17),u(32,"input",18),i(33,"label",19),a(34," Submit today? "),o()()(),i(35,"div",20),f(36,le,2,0,"div",21)(37,ue,2,0,"button",22),o(),f(38,de,2,0,"div",23),o()()()),r&2){let d,s,b,v,R,D,T,q,A,j;m(7),h("formGroup",t.formGroup),m(5),h("ngClass",x(13,S,t.submitted()&&((d=t.formGroup.get("firstName"))==null?null:d.errors))),m(),l(t.submitted()&&((s=t.formGroup.get("firstName"))!=null&&s.errors)?13:-1),m(4),h("ngClass",x(15,S,t.submitted()&&((b=t.formGroup.get("lastName"))==null?null:b.errors))),m(),l(t.submitted()&&((v=t.formGroup.get("lastName"))!=null&&v.errors)?18:-1),m(4),h("ngClass",x(17,S,t.submitted()&&((R=t.formGroup.get("email"))==null?null:R.errors))),m(),l(t.submitted()&&(!((D=t.formGroup.get("email"))==null||D.errors==null)&&D.errors.required)?23:-1),m(),l(t.submitted()&&(!((T=t.formGroup.get("email"))==null||T.errors==null)&&T.errors.email)?24:-1),m(4),h("ngClass",x(19,S,t.submitted()&&((q=t.formGroup.get("age"))==null?null:q.errors))),m(),l(t.submitted()&&(!((A=t.formGroup.get("age"))==null||A.errors==null)&&A.errors.required)?29:-1),m(),l(t.submitted()&&(!((j=t.formGroup.get("age"))==null||j.errors==null)&&j.errors.min)?30:-1),m(6),l(t.isLoading()?36:37),m(2),l(t.showSuccessMessage()?38:-1)}},dependencies:[I,te,z,Y,K,J,Z,$,X,Q,W],encapsulation:2,changeDetection:0})};var N=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-base-layout"]],decls:1,vars:0,template:function(r,t){r&1&&u(0,"router-outlet")},dependencies:[H],encapsulation:2,changeDetection:0})};var E=class e{formService=c(y);downloadCSV(){this.formService.downloadData().subscribe(n=>{console.log("response: ",n);let t=[["Name","Email","Age"],["John Doe","john@example.com","30"],["Jane Smith","jane@example.com","25"],["Bob Johnson","bob@example.com","45"]].map(v=>v.join(",")).join(`
`),d=new Blob([t],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),b=URL.createObjectURL(d);s.setAttribute("href",b),s.setAttribute("download","sample_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-administration-page"]],decls:10,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6","flex","justify-center"],[1,"py-3","px-6","border","border-transparent","rounded-md","shadow-sm","text-base","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"]],template:function(r,t){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Download Data"),o(),i(5,"p",4),a(6,"Click the button below to download your data."),o()(),i(7,"div",5)(8,"button",6),w("click",function(){return t.downloadCSV()}),a(9," Download .csv "),o()()()())},encapsulation:2,changeDetection:0})};var P=class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=p({type:e,selectors:[["app-home-page"]],decls:7,vars:0,consts:[[1,"w-screen","bg-gray-300","h-screen","flex","flex-col","justify-center","items-center","p-5","gap-5"],[1,"text-4xl","font-bold"],["routerLink","/form",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],["routerLink","/auth/login",1,"w-[400px]","font-bold","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"]],template:function(r,t){r&1&&(i(0,"section",0)(1,"h1",1),a(2,"Bienvenid@"),o(),i(3,"button",2),a(4," Ir al formulario "),o(),i(5,"button",3),a(6," Log in "),o()())},dependencies:[O],encapsulation:2,changeDetection:0})};var pe=[{path:"",component:N,children:[{path:"",title:"Home",component:P},{path:"form",component:F},{path:"admin",component:E},{path:"**",redirectTo:""}]}],Oe=pe;export{Oe as default};
