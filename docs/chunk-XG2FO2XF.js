import{a as U,b as J,c as H,d as f,e as Y,f as Z,g as $,h as z,i as K,j as Q,k as W,l as X,m as ee}from"./chunk-NJST3GVR.js";import{A as v,D as c,F as u,G as r,H as o,I as d,J as x,K as a,M,N as C,S as B,U as V,X as I,Z as O,c as A,f as q,g as T,k as L,n as p,s as k,t as m,w as b}from"./chunk-GWLPI52K.js";var te=U.backendUrl,y=class t{http=p(V);createForm(n){return this.http.post(`${te}/forms`,n).pipe(T(i=>(console.log("Response: ",i),i.status==="success")))}downloadData(){return this.http.get(`${te}/forms`).pipe(T(n=>(console.log("Response: ",n),n)))}static \u0275fac=function(i){return new(i||t)};static \u0275prov=L({token:t,factory:t.\u0275fac,providedIn:"root"})};var ne=()=>["/admin"],w=t=>({"border-red-500":t});function ie(t,n){t&1&&(r(0,"div",11),a(1," First name is required "),o())}function re(t,n){t&1&&(r(0,"div",11),a(1," Last name is required "),o())}function ae(t,n){t&1&&(r(0,"div",11),a(1," Email is required "),o())}function me(t,n){t&1&&(r(0,"div",11),a(1," Please enter a valid email address "),o())}function se(t,n){t&1&&(r(0,"div",11),a(1," Age is required "),o())}function le(t,n){t&1&&(r(0,"div",11),a(1," Age must be a positive number "),o())}function ue(t,n){t&1&&(r(0,"div",23),a(1," Form submitted successfully! "),o())}var _=class t{fb=p(X);submitted=k(!1);showSuccessMessage=k(!1);formService=p(y);formGroup=this.fb.group({firstName:["",f.required],lastName:["",f.required],email:["",[f.required,f.email]],age:[0,[f.required,f.min(0)]],submitToday:[!0]});onSubmit(){if(this.submitted.set(!0),this.formGroup.invalid)return;if(!window.grecaptcha){console.error("reCAPTCHA no est\xE1 cargado.");return}let{email:n="",firstName:i="",lastName:e="",age:l=20,submitToday:s=!1}=this.formGroup.value;window.grecaptcha.ready(()=>A(this,null,function*(){let g=yield window.grecaptcha.execute("6Lcm2BorAAAAADej42ZZ9wcnmi8Bmeht3E0YoUyY",{action:"submit"});(yield this.sendForm({email:n,firstName:i,lastName:e,age:l,submitToday:s,token:g}))&&(this.showSuccessMessage.set(!0),setTimeout(()=>this.showSuccessMessage.set(!1),3e3))}))}sendForm(n){return A(this,null,function*(){let i=yield q(this.formService.createForm(n));return console.log("response: ",i),i})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=b({type:t,selectors:[["app-form-page"]],decls:41,vars:22,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[3,"routerLink"],[1,"p-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"space-y-2"],["for","firstName",1,"block","text-sm","font-medium","text-gray-700"],["id","firstName","formControlName","firstName","type","text","placeholder","Enter your first name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"text-red-500","text-xs","mt-1"],["for","lastName",1,"block","text-sm","font-medium","text-gray-700"],["id","lastName","formControlName","lastName","type","text","placeholder","Enter your last name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","email",1,"block","text-sm","font-medium","text-gray-700"],["id","email","formControlName","email","type","email","placeholder","your.email@example.com",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],["for","age",1,"block","text-sm","font-medium","text-gray-700"],["id","age","formControlName","age","type","number","placeholder","Enter your age","min","0",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","shadow-sm","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500",3,"ngClass"],[1,"flex","items-center","space-x-2","pt-2"],["id","submitToday","formControlName","submitToday","type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded"],["for","submitToday",1,"text-sm","text-gray-700","cursor-pointer"],[1,"mt-6"],["type","submit",1,"w-full","flex","justify-center","py-2","px-4","border","border-transparent","rounded-md","shadow-sm","text-sm","font-medium","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500"],[1,"mt-4","p-3","bg-green-100","text-green-700","rounded-md"]],template:function(i,e){if(i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Personal Information"),o(),r(5,"p",4),a(6,"Please fill out all the required fields below."),o()(),r(7,"button",5),a(8," Click me "),o(),r(9,"form",6),x("ngSubmit",function(){return e.onSubmit()}),r(10,"div",7)(11,"div",8)(12,"label",9),a(13,"First Name"),o(),d(14,"input",10),v(15,ie,2,0,"div",11),o(),r(16,"div",8)(17,"label",12),a(18,"Last Name"),o(),d(19,"input",13),v(20,re,2,0,"div",11),o(),r(21,"div",8)(22,"label",14),a(23,"Email Address"),o(),d(24,"input",15),v(25,ae,2,0,"div",11)(26,me,2,0,"div",11),o(),r(27,"div",8)(28,"label",16),a(29,"Age"),o(),d(30,"input",17),v(31,se,2,0,"div",11)(32,le,2,0,"div",11),o(),r(33,"div",18),d(34,"input",19),r(35,"label",20),a(36," Submit today? "),o()()(),r(37,"div",21)(38,"button",22),a(39," Submit "),o()(),v(40,ue,2,0,"div",23),o()()()),i&2){let l,s,g,h,R,N,E,j,D,P;m(7),c("routerLink",M(13,ne)),m(2),c("formGroup",e.formGroup),m(5),c("ngClass",C(14,w,e.submitted()&&((l=e.formGroup.get("firstName"))==null?null:l.errors))),m(),u(e.submitted()&&((s=e.formGroup.get("firstName"))!=null&&s.errors)?15:-1),m(4),c("ngClass",C(16,w,e.submitted()&&((g=e.formGroup.get("lastName"))==null?null:g.errors))),m(),u(e.submitted()&&((h=e.formGroup.get("lastName"))!=null&&h.errors)?20:-1),m(4),c("ngClass",C(18,w,e.submitted()&&((R=e.formGroup.get("email"))==null?null:R.errors))),m(),u(e.submitted()&&(!((N=e.formGroup.get("email"))==null||N.errors==null)&&N.errors.required)?25:-1),m(),u(e.submitted()&&(!((E=e.formGroup.get("email"))==null||E.errors==null)&&E.errors.email)?26:-1),m(4),c("ngClass",C(20,w,e.submitted()&&((j=e.formGroup.get("age"))==null?null:j.errors))),m(),u(e.submitted()&&(!((D=e.formGroup.get("age"))==null||D.errors==null)&&D.errors.required)?31:-1),m(),u(e.submitted()&&(!((P=e.formGroup.get("age"))==null||P.errors==null)&&P.errors.min)?32:-1),m(8),u(e.showSuccessMessage()?40:-1)}},dependencies:[B,ee,$,H,z,J,Y,Z,W,K,Q,O],encapsulation:2,changeDetection:0})};var S=class t{static \u0275fac=function(i){return new(i||t)};static \u0275cmp=b({type:t,selectors:[["app-base-layout"]],decls:1,vars:0,template:function(i,e){i&1&&d(0,"router-outlet")},dependencies:[I],encapsulation:2,changeDetection:0})};var F=class t{formService=p(y);downloadCSV(){this.formService.downloadData().subscribe(n=>{console.log("response: ",n);let e=[["Name","Email","Age"],["John Doe","john@example.com","30"],["Jane Smith","jane@example.com","25"],["Bob Johnson","bob@example.com","45"]].map(h=>h.join(",")).join(`
`),l=new Blob([e],{type:"text/csv;charset=utf-8;"}),s=document.createElement("a"),g=URL.createObjectURL(l);s.setAttribute("href",g),s.setAttribute("download","sample_data.csv"),s.style.visibility="hidden",document.body.appendChild(s),s.click(),document.body.removeChild(s)})}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=b({type:t,selectors:[["app-administration-page"]],decls:10,vars:0,consts:[[1,"flex","min-h-screen","items-center","justify-center","p-4"],[1,"w-full","max-w-md","bg-white","rounded-lg","shadow-md","overflow-hidden"],[1,"p-6","border-b","border-gray-200"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-sm","text-gray-500"],[1,"p-6","flex","justify-center"],[1,"py-3","px-6","border","border-transparent","rounded-md","shadow-sm","text-base","font-medium","text-white","bg-green-600","hover:bg-green-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-green-500",3,"click"]],template:function(i,e){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),a(4,"Download Data"),o(),r(5,"p",4),a(6,"Click the button below to download your data."),o()(),r(7,"div",5)(8,"button",6),x("click",function(){return e.downloadCSV()}),a(9," Download .csv "),o()()()())},encapsulation:2,changeDetection:0})};var de=[{path:"",component:S,children:[{path:"form",component:_},{path:"admin",component:F},{path:"**",redirectTo:"form"}]}],Ve=de;export{Ve as default};
